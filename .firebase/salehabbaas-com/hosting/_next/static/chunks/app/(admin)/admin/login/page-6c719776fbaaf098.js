(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6873],{63:(e,t,r)=>{"use strict";var n=r(7260);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},235:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(5155);r(2115);var a=r(5016);function i(e){let{className:t,...r}=e;return(0,n.jsx)("label",{className:(0,a.cn)("text-sm font-medium text-foreground/85",t),...r})}},2467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>d});var n,a=r(2115),i=r(4446),l=r(5155),o=Symbol.for("react.lazy"),s=(n||(n=r.t(a,2)))[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var d=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(u(r)&&"function"==typeof s&&(r=s(r._payload)),a.isValidElement(r)){var l;let e,o,s=(l=r,(o=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(o=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),u=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(u.ref=t?(0,i.t)(t,s):s),a.cloneElement(r,u)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e;u(n)&&"function"==typeof s&&(n=s(n._payload));let o=a.Children.toArray(n),d=o.find(p);if(d){let e=d.props.children,n=o.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,l.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),c=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}},3101:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var n=r(2821);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.$,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:o}=t,s=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let i=a(t)||a(n);return l[e][i]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,s,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...u}[t]):({...o,...u})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},3771:(e,t,r)=>{"use strict";r.d(t,{AdminLoginForm:()=>p});var n=r(5155),a=r(2115),i=r(63),l=r(2078),o=r(9253),s=r(5316),u=r(7003),d=r(6170),c=r(235);function p(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[v,y]=(0,a.useState)("");async function b(r){r.preventDefault(),h(!0),y("");try{let r=await (0,o.x9)(s.j2,t,p),a=await r.user.getIdTokenResult(!0);if(!0!==a.claims.admin)return void y("Your account is authenticated but not an admin.");let i=await r.user.getIdToken(),l=await fetch("/api/admin/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:i})});if(!l.ok){var n;let e=await l.json();throw Error(null!=(n=e.error)?n:"Unable to establish admin session.")}e.replace("/admin")}catch(e){console.error("Admin login failed",e),y(function(e){if(e instanceof l.g)switch(e.code){case"auth/unauthorized-domain":return"This domain is not authorized in Firebase Auth. Add your production domain in Firebase Console -> Authentication -> Settings -> Authorized domains.";case"auth/invalid-api-key":return"Invalid Firebase API key. Verify NEXT_PUBLIC_FIREBASE_API_KEY in production and redeploy.";case"auth/invalid-email":return"Invalid email format.";case"auth/invalid-credential":return"Invalid email or password.";case"auth/user-disabled":return"This account is disabled.";case"auth/network-request-failed":return"Network error while signing in. Check your connection and try again.";case"auth/too-many-requests":return"Too many attempts. Try again later.";default:return e.message}return e instanceof Error&&/did not match the expected pattern/i.test(e.message)?"Firebase config is malformed in production. Check NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN (host only, e.g. your-project.firebaseapp.com; no https://, path like /__/auth/handler, quotes, port, or trailing slash) and redeploy.":e instanceof Error?e.message:"Unable to sign in."}(e))}finally{h(!1)}}return(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,n.jsx)(d.p,{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,n.jsx)(d.p,{id:"password",type:"password",value:p,onChange:e=>f(e.target.value),required:!0})]}),v?(0,n.jsx)("p",{className:"text-sm text-destructive",children:v}):null,(0,n.jsx)(u.$,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})}},4446:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>i});var n=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(i(...e),e)}},5016:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>o,Yv:()=>l,cn:()=>i});var n=r(2821),a=r(5889);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}function l(e){return e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function o(e){if(!e)return"";let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}},5174:(e,t,r)=>{Promise.resolve().then(r.bind(r,3771))},5316:(e,t,r)=>{"use strict";r.d(t,{IG:()=>S,db:()=>I,j2:()=>j,sx:()=>k});var n,a,i,l,o,s,u,d,c=r(2078),p=r(9253),f=r(9708),m=r(8134),h=r(8871);r(792);var v=r(5704);function y(e){if(!e)return;let t=e.trim();if(t)return t.replace(/^["']+/,"").replace(/["']+$/,"").trim()||void 0}function b(e){var t;let r=y(e);if(!r)return;let n=null==(t=r.replace(/^https?:\/\//i,"").replace(/^\/\//,"").split(/[/?#]/)[0])?void 0:t.trim();if(n)return n.replace(/:\d+$/,"")}let g=function(){let e=void 0!==v?v.env.__FIREBASE_DEFAULTS__:void 0;if(e)try{let t=JSON.parse(e);return null==t?void 0:t.config}catch(e){return}}(),x={apiKey:null!=(n=y("AIzaSyCBoFFI_8tSG5v_6xwo2flclBjiE9by-GI"))?n:y(null==g?void 0:g.apiKey),authDomain:null!=(a=b("salehabbaas-com.firebaseapp.com"))?a:b(null==g?void 0:g.authDomain),projectId:null!=(i=y("salehabbaas-com"))?i:y(null==g?void 0:g.projectId),storageBucket:null!=(l=y("salehabbaas-com.firebasestorage.app"))?l:y(null==g?void 0:g.storageBucket),messagingSenderId:null!=(o=y("164180946650"))?o:y(null==g?void 0:g.messagingSenderId),appId:null!=(s=y("1:164180946650:web:1c94c5946afebf005d3fe3"))?s:y(null==g?void 0:g.appId),measurementId:null!=(u=y("G-CKLDLRCEBW"))?u:y(null==g?void 0:g.measurementId),databaseURL:null!=(d=y(""))?d:y(null==g?void 0:g.databaseURL)},_=x.apiKey&&x.authDomain&&x.projectId?(0,c.Dk)().length?(0,c.Sx)():(0,c.Wp)(x):null,w="salehabbaas",j=_?(0,p.xI)(_):null,I=_?w?(0,f.aU)(_,w):(0,f.aU)(_):null,S=_?(0,m.c7)(_):null,E=null;async function N(){return _?(E||(E=(0,h.TT)().then(e=>e?(0,h.P5)(_):null)),E):null}async function k(e,t){if(!_)return;let r=await N();r&&(0,h.$s)(r,e,t),fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,...t})}).catch(()=>{})}},6170:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var n=r(5155),a=r(2115),i=r(5016);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-2xl border border-input/80 bg-card/75 px-3 py-2 text-sm shadow-[inset_0_0_0_1px_rgba(255,255,255,0.02)] backdrop-blur ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var n=r(5155),a=r(2115),i=r(3101),l=r(2467),o=r(5016);let s=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium tracking-[-0.01em] transition-[transform,colors,box-shadow] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 active:scale-[0.99]",{variants:{variant:{default:"border border-transparent bg-primary text-primary-foreground shadow-[0_14px_40px_-24px_hsl(var(--primary)/0.8)] hover:bg-primary/90 hover:shadow-[0_18px_50px_-24px_hsl(var(--primary)/0.7)]",secondary:"bg-secondary/80 text-secondary-foreground hover:bg-secondary",ghost:"hover:bg-muted/40",outline:"border border-border/70 bg-card/75 text-foreground/90 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.02)] backdrop-blur hover:bg-card/95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",cta:"bg-[linear-gradient(135deg,hsl(var(--accent-strong)),hsl(var(--accent)))] text-[hsl(var(--surface-950))] shadow-[0_18px_50px_-24px_hsl(var(--accent-strong)/0.8)] hover:shadow-[0_24px_60px_-26px_hsl(var(--accent)/0.8)]"},size:{default:"h-10 px-5",sm:"h-9 px-4",lg:"h-12 px-6",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:u=!1,...d}=e,c=u?l.DX:"button";return(0,n.jsx)(c,{className:(0,o.cn)(s({variant:a,size:i,className:r})),ref:t,...d})});u.displayName="Button"}},e=>{e.O(0,[2992,7138,4909,3724,8441,1255,7358],()=>e(e.s=5174)),_N_E=e.O()}]);