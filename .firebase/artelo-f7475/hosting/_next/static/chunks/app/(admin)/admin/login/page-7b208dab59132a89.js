(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6873],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},235:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var a=r(5155);r(2115);var n=r(5016);function s(e){let{className:t,...r}=e;return(0,a.jsx)("label",{className:(0,n.cn)("text-sm font-medium text-foreground/85",t),...r})}},3771:(e,t,r)=>{"use strict";r.d(t,{AdminLoginForm:()=>c});var a=r(5155),n=r(2115),s=r(63),i=r(9253),o=r(5316),u=r(7003),l=r(6170),d=r(235);function c(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(""),[c,f]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[b,h]=(0,n.useState)("");async function g(r){r.preventDefault(),p(!0),h("");try{let r=await (0,i.x9)(o.j2,t,c),n=await r.user.getIdTokenResult(!0);if(!0!==n.claims.admin)return void h("Your account is authenticated but not an admin.");let s=await r.user.getIdToken(),u=await fetch("/api/admin/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:s})});if(!u.ok){var a;let e=await u.json();throw Error(null!=(a=e.error)?a:"Unable to establish admin session.")}e.replace("/admin")}catch(e){h(e instanceof Error?e.message:"Unable to sign in.")}finally{p(!1)}}return(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(l.p,{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(l.p,{id:"password",type:"password",value:c,onChange:e=>f(e.target.value),required:!0})]}),b?(0,a.jsx)("p",{className:"text-sm text-destructive",children:b}):null,(0,a.jsx)(u.$,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})}},5016:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>o,Yv:()=>i,cn:()=>s});var a=r(2821),n=r(5889);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function i(e){return e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function o(e){if(!e)return"";let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}},5174:(e,t,r)=>{Promise.resolve().then(r.bind(r,3771))},5316:(e,t,r)=>{"use strict";r.d(t,{IG:()=>m,db:()=>f,j2:()=>c,sx:()=>h});var a=r(2078),n=r(9253),s=r(9708),i=r(8134),o=r(8871);r(792);let u={apiKey:"AIzaSyCTKIE_7IXBm0f-EdkXerbcaS-Pu7JXagE",authDomain:"artelo-f7475.firebaseapp.com",projectId:"artelo-f7475",storageBucket:"artelo-f7475.appspot.com",messagingSenderId:"277860542920",appId:"1:277860542920:web:f225a203dab92f710cf8fd",measurementId:"G-6VY4ZDE97S",databaseURL:"https://artelo-f7475-default-rtdb.europe-west1.firebasedatabase.app"},l=u.apiKey&&u.authDomain&&u.projectId?(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(u):null,d="salehabbaas",c=l?(0,n.xI)(l):null,f=l?d?(0,s.aU)(l,d):(0,s.aU)(l):null,m=l?(0,i.c7)(l):null,p=null;async function b(){return l?(p||(p=(0,o.TT)().then(e=>e?(0,o.P5)(l):null)),p):null}async function h(e,t){if(!l)return;let r=await b();r&&(0,o.$s)(r,e,t),fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,...t})}).catch(()=>{})}},6170:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),n=r(2115),s=r(5016);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-xl border border-input bg-background/90 px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(5155),n=r(2115),s=r(3101),i=r(6673),o=r(5016);let u=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-muted",outline:"border border-border bg-transparent hover:bg-muted",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-5",sm:"h-9 px-4",lg:"h-12 px-6",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:l=!1,...d}=e,c=l?i.DX:"button";return(0,a.jsx)(c,{className:(0,o.cn)(u({variant:n,size:s,className:r})),ref:t,...d})});l.displayName="Button"}},e=>{e.O(0,[2992,7138,3724,1125,8441,1255,7358],()=>e(e.s=5174)),_N_E=e.O()}]);