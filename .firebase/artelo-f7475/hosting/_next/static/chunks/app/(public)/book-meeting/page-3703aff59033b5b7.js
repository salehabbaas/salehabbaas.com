(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7937],{235:(e,t,a)=>{"use strict";a.d(t,{J:()=>s});var r=a(5155);a(2115);var n=a(5016);function s(e){let{className:t,...a}=e;return(0,r.jsx)("label",{className:(0,n.cn)("text-sm font-medium text-foreground/85",t),...a})}},268:(e,t,a)=>{"use strict";a.d(t,{MeetingBooker:()=>c});var r=a(5155),n=a(2115),s=a(7003),i=a(6170),l=a(235),o=a(7507),d=a(7001),u=a(5316);function c(){let[e,t]=(0,n.useState)(null),[a,c]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[g,p]=(0,n.useState)(""),[b,h]=(0,n.useState)(""),[v,x]=(0,n.useState)(""),[y,j]=(0,n.useState)(""),[w,N]=(0,n.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"),[k,S]=(0,n.useState)(""),[T,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{fetch("/api/bookings/availability").then(e=>e.json()).then(e=>{var a,r,n,s;t(e),c(null!=(n=null==(a=e.days[0])?void 0:a.date)?n:""),p(null!=(s=null==(r=e.meetingTypes[0])?void 0:r.id)?s:"")}).catch(()=>S("Unable to load availability right now."))},[]);let I=(0,n.useMemo)(()=>{var t,r;return null!=(r=null==e||null==(t=e.days.find(e=>e.date===a))?void 0:t.slots)?r:[]},[e,a]);async function E(e){if(e.preventDefault(),m){C(!0),S("");try{let e=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,email:v,reason:y,timezone:w,meetingTypeId:g,startAt:m})}),a=await e.json();if(!e.ok){var t;throw Error(null!=(t=a.error)?t:"Unable to book meeting")}S("degraded"===a.integration?"Meeting slot reserved. Calendar invite and email confirmation are pending.":"Meeting booked successfully. Confirmation email will arrive shortly."),(0,u.sx)("book_meeting",{meetingTypeId:g}),h(""),x(""),j("")}catch(e){S(e instanceof Error?e.message:"Unable to book meeting.")}finally{C(!1)}}}return((0,n.useEffect)(()=>{var e;f(null!=(e=I[0])?e:"")},[I]),e)?e.enabled?(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4 rounded-3xl border border-border/70 bg-card/85 p-6",children:[(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Date"}),(0,r.jsx)(o.l,{value:a,onChange:e=>c(e.target.value),children:e.days.map(e=>(0,r.jsx)("option",{value:e.date,children:e.date},e.date))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Time"}),(0,r.jsx)(o.l,{value:m,onChange:e=>f(e.target.value),children:I.length?I.map(e=>(0,r.jsx)("option",{value:e,children:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},e)):(0,r.jsx)("option",{value:"",children:"No slots available"})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Meeting Type"}),(0,r.jsx)(o.l,{value:g,onChange:e=>p(e.target.value),children:e.meetingTypes.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.label," (",e.durationMinutes,"m)"]},e.id))})]})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Name"}),(0,r.jsx)(i.p,{value:b,onChange:e=>h(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Email"}),(0,r.jsx)(i.p,{type:"email",value:v,onChange:e=>x(e.target.value),required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Reason"}),(0,r.jsx)(d.T,{value:y,onChange:e=>j(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.J,{children:"Timezone"}),(0,r.jsx)(i.p,{value:w,onChange:e=>N(e.target.value),required:!0})]}),(0,r.jsx)(s.$,{type:"submit",disabled:T||!m,children:T?"Booking...":"Book Meeting"}),k?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:k}):null]}):(0,r.jsx)("div",{className:"rounded-3xl border border-border/70 bg-card/80 p-6",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Bookings are currently disabled. Please use the contact form instead."})}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading availability..."})}},5016:(e,t,a)=>{"use strict";a.d(t,{Yq:()=>l,Yv:()=>i,cn:()=>s});var r=a(2821),n=a(5889);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}function i(e){return e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function l(e){if(!e)return"";let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}},5316:(e,t,a)=>{"use strict";a.d(t,{IG:()=>f,db:()=>m,j2:()=>c,sx:()=>b});var r=a(2078),n=a(9253),s=a(9708),i=a(8134),l=a(8871);a(792);let o={apiKey:"AIzaSyCTKIE_7IXBm0f-EdkXerbcaS-Pu7JXagE",authDomain:"artelo-f7475.firebaseapp.com",projectId:"artelo-f7475",storageBucket:"artelo-f7475.appspot.com",messagingSenderId:"277860542920",appId:"1:277860542920:web:f225a203dab92f710cf8fd",measurementId:"G-6VY4ZDE97S",databaseURL:"https://artelo-f7475-default-rtdb.europe-west1.firebasedatabase.app"},d=o.apiKey&&o.authDomain&&o.projectId?(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(o):null,u="salehabbaas",c=d?(0,n.xI)(d):null,m=d?u?(0,s.aU)(d,u):(0,s.aU)(d):null,f=d?(0,i.c7)(d):null,g=null;async function p(){return d?(g||(g=(0,l.TT)().then(e=>e?(0,l.P5)(d):null)),g):null}async function b(e,t){if(!d)return;let a=await p();a&&(0,l.$s)(a,e,t),fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,...t})}).catch(()=>{})}},6170:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),n=a(2115),s=a(5016);let i=n.forwardRef((e,t)=>{let{className:a,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-xl border border-input bg-background/90 px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},7001:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(5155),n=a(2115),s=a(5016);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("min-h-[100px] w-full rounded-2xl border border-input bg-background/90 px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});i.displayName="Textarea"},7003:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(5155),n=a(2115),s=a(3101),i=a(6673),l=a(5016);let o=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-muted",outline:"border border-border bg-transparent hover:bg-muted",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-5",sm:"h-9 px-4",lg:"h-12 px-6",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:s,asChild:d=!1,...u}=e,c=d?i.DX:"button";return(0,r.jsx)(c,{className:(0,l.cn)(o({variant:n,size:s,className:a})),ref:t,...u})});d.displayName="Button"},7474:(e,t,a)=>{Promise.resolve().then(a.bind(a,268))},7507:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});var r=a(5155);a(2115);var n=a(5016);function s(e){let{className:t,children:a,...s}=e;return(0,r.jsx)("select",{className:(0,n.cn)("h-10 w-full rounded-xl border border-input bg-background/90 px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:a})}}},e=>{e.O(0,[2992,7138,3724,1125,8441,1255,7358],()=>e(e.s=7474)),_N_E=e.O()}]);